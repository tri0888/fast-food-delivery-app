# frontend.screen.test

| ID | Mô tả test case | Inter-test case Dependence | Quy trình kiểm thử | Kết quả mong đợi | Dữ liệu kiểm thử | Kết quả |
| --- | --- | --- | --- | --- | --- | --- |
| SCREEN-FE-001 | Khách thêm món từ trang menu và nhìn thấy ở giỏ hàng | Không | 1. Inject `localStorage.token = 'customer-cart-token'` trước khi load UI<br>2. Stub `GET /api/food/list` trả về `Cart Automation Bun`, `GET /api/cart/get` trả cart rỗng và mock tất cả ảnh<br>3. Đi tới `/`, đợi heading "Top dishes near you" render<br>4. Click nút `+` đầu tiên trong danh sách món rồi mở icon cart trên navbar<br>5. Xác minh item được hiển thị trong giỏ và thu thập payload `POST /api/cart/add` | Giao diện hiển thị toast counter = 1, hành lang cart chứa `Cart Automation Bun`, request thêm món gửi header `token: customer-cart-token`, payload có `itemId = food-201` | Token `'customer-cart-token'`, mock food `{ _id: 'food-201', name: 'Cart Automation Bun', price: 12, stock: 3 }` | Playwright (frontend/e2e/specs/cart/add-to-cart.spec.ts) |
| SCREEN-FE-002 | Khách tăng/giảm số lượng ngay trên trang giỏ | Không | 1. Inject token giống case 001<br>2. Stub `GET /api/cart/get` trả cart có `{ 'food-203': 1 }`, stub `/api/cart/add` và `/api/cart/remove` để ghi nhận payload<br>3. Mở `/cart` và đợi tên món hiển thị<br>4. Click nút `+` để tăng số lượng, sau đó click `-` để giảm lại<br>5. Đối chiếu payload gọi API và UI counter | Bộ đếm hiển thị 2 rồi quay về 1; `/api/cart/add` nhận `{ itemId: 'food-203' }` một lần; `/api/cart/remove` nhận `{ itemId: 'food-203' }` khi giảm | Token `'customer-cart-token'`, mock food `{ _id: 'food-203', name: 'Cart Counter Roll', stock: 5 }` | Playwright (frontend/e2e/specs/cart/update-cart.spec.ts) |
| SCREEN-FE-003 | Khách xoá hẳn một món khỏi giỏ | Không | 1. Inject token, stub ảnh và `GET /api/food/list` trả `Cart Exit Pho`<br>2. Stub `GET /api/cart/get` trả cart có `{ 'food-202': 1 }` và `/api/cart/remove` để ghi payload<br>3. Mở `/cart`, xác nhận item hiển thị<br>4. Nhấn icon `x` (class `.cart-actions .cross`) để xoá<br>5. Đợi danh sách trống và kiểm tra payload gọi remove | `cart-items` còn 0 row; toast thành công hiển thị; `/api/cart/remove` nhận `{ itemId: 'food-202', removeCompletely: true }` cùng header `token: customer-cart-token` | Token `'customer-cart-token'`, mock food `{ _id: 'food-202', name: 'Cart Exit Pho', stock: 5 }` | Playwright (frontend/e2e/specs/cart/remove-from-cart.spec.ts) |
